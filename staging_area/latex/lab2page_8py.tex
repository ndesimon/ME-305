Read from a quadrature encoder and return associated data to the user.\hypertarget{lab2page_8py_sec_intro2}{}\doxysection{Introduction}\label{lab2page_8py_sec_intro2}
In Lab 2, our team developed code to read the signals generated by quadrature encoders and interpret them as the angular position of a motor shaft. We also wrote a user interface to interpret user keyboard presses as encoder commands, wrapped the encoder commands in a Python class, and formatted our UI and encoder modules as tasks to be run in a main file. Please see \mbox{\hyperlink{lab2page_8py_sec_files2}{Project Files}} for descriptions about each of our files.\hypertarget{lab2page_8py_sec_res2}{}\doxysection{Results}\label{lab2page_8py_sec_res2}
The following figure shows encoder position data collected over a 30 second interval, an optional feature of the User Task. \hypertarget{lab2page_8py_sec_files2}{}\doxysection{Project Files}\label{lab2page_8py_sec_files2}
Something about the project files.\hypertarget{lab2page_8py_sub_main2}{}\doxysubsection{Main File}\label{lab2page_8py_sub_main2}
The main file instantiates our task-\/ and class-\/files as objects to be run asynchronously. Note the task diagram below for information regarding file communication and run frequency. See \mbox{\hyperlink{main_8py}{main.\+py}} for more information. \hypertarget{lab2page_8py_sub_utask2}{}\doxysubsection{User Task}\label{lab2page_8py_sub_utask2}
The user interface is written as a generator function that prints to a terminal emulator, and its state transition diagram may be viewed below. It is able to read a user\textquotesingle{}s keyboard presses as encoder commands, such as zeroing or printing the encoder\textquotesingle{}s position in ticks, over the USB virtual comm port. See \mbox{\hyperlink{_u_task_8py}{UTask.\+py}} for more information. \hypertarget{lab2page_8py_sub_etask2}{}\doxysubsection{Encoder Task}\label{lab2page_8py_sub_etask2}
The encoder task uses a generator function to update a shared tuple, enc\+Data, that stores time \mbox{[}ms\mbox{]}, position \mbox{[}ticks\mbox{]}, and position changes \mbox{[}ticks/sec\mbox{]}. See \mbox{\hyperlink{_e_task_8py}{ETask.\+py}} for more information. \hypertarget{lab2page_8py_sub_enc2}{}\doxysubsection{Encoder Driver}\label{lab2page_8py_sub_enc2}
The encoder driver is a class file that instantiates timer and timer channel objects and has various methods for reading data from the encoder. See \mbox{\hyperlink{encoder_8py}{encoder.\+py}} for more information.\hypertarget{lab2page_8py_sub_sha2}{}\doxysubsection{Shares Class}\label{lab2page_8py_sub_sha2}
The shares class file allows variables to be created, read from, and written to multiple files. See \mbox{\hyperlink{shares_8py}{shares.\+py}} for more information. 