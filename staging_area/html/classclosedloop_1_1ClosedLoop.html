<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mechatronics Portfolio: closedloop.ClosedLoop Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cpslo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mechatronics Portfolio
   </div>
   <div id="projectbrief">Nicholas De Simone&#39;s Mechatronics Project Portfolio</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classclosedloop_1_1ClosedLoop.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classclosedloop_1_1ClosedLoop-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">closedloop.ClosedLoop Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>!  
 <a href="classclosedloop_1_1ClosedLoop.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac038f2149f9353779af4499490b2d9fc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1ClosedLoop.html#ac038f2149f9353779af4499490b2d9fc">__init__</a> (self, Kp, Ki, setpoint, sathigh, satlow)</td></tr>
<tr class="memdesc:ac038f2149f9353779af4499490b2d9fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">!  <a href="classclosedloop_1_1ClosedLoop.html#ac038f2149f9353779af4499490b2d9fc">More...</a><br /></td></tr>
<tr class="separator:ac038f2149f9353779af4499490b2d9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976834505394e94f7d6abaf7c19fad46"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1ClosedLoop.html#a976834505394e94f7d6abaf7c19fad46">run</a> (self, measured, deltaTime)</td></tr>
<tr class="memdesc:a976834505394e94f7d6abaf7c19fad46"><td class="mdescLeft">&#160;</td><td class="mdescRight">!  <a href="classclosedloop_1_1ClosedLoop.html#a976834505394e94f7d6abaf7c19fad46">More...</a><br /></td></tr>
<tr class="separator:a976834505394e94f7d6abaf7c19fad46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9977f9a73888261059c38e25671d0cbc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1ClosedLoop.html#a9977f9a73888261059c38e25671d0cbc">set_Gain</a> (self, Kp, Ki)</td></tr>
<tr class="memdesc:a9977f9a73888261059c38e25671d0cbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">!  <a href="classclosedloop_1_1ClosedLoop.html#a9977f9a73888261059c38e25671d0cbc">More...</a><br /></td></tr>
<tr class="separator:a9977f9a73888261059c38e25671d0cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfd126eb373a40747f7fd312ed0056c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1ClosedLoop.html#aabfd126eb373a40747f7fd312ed0056c">get_Kp</a> (self)</td></tr>
<tr class="memdesc:aabfd126eb373a40747f7fd312ed0056c"><td class="mdescLeft">&#160;</td><td class="mdescRight">!  <a href="classclosedloop_1_1ClosedLoop.html#aabfd126eb373a40747f7fd312ed0056c">More...</a><br /></td></tr>
<tr class="separator:aabfd126eb373a40747f7fd312ed0056c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae280c2736be4764a84235da504431ca3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1ClosedLoop.html#ae280c2736be4764a84235da504431ca3">set_Reference</a> (self, reference)</td></tr>
<tr class="memdesc:ae280c2736be4764a84235da504431ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">!  <a href="classclosedloop_1_1ClosedLoop.html#ae280c2736be4764a84235da504431ca3">More...</a><br /></td></tr>
<tr class="separator:ae280c2736be4764a84235da504431ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8661da077f6829bb7e784a3a52eb71"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1ClosedLoop.html#a1e8661da077f6829bb7e784a3a52eb71">get_Reference</a> (self)</td></tr>
<tr class="memdesc:a1e8661da077f6829bb7e784a3a52eb71"><td class="mdescLeft">&#160;</td><td class="mdescRight">!  <a href="classclosedloop_1_1ClosedLoop.html#a1e8661da077f6829bb7e784a3a52eb71">More...</a><br /></td></tr>
<tr class="separator:a1e8661da077f6829bb7e784a3a52eb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24ed6b0ba7a0b04e45d9265e99cde80"><td class="memItemLeft" align="right" valign="top"><a id="ad24ed6b0ba7a0b04e45d9265e99cde80"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_Actuation</b> (self)</td></tr>
<tr class="separator:ad24ed6b0ba7a0b04e45d9265e99cde80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aae8c3c1b5cb36912bca6b14089e108f3"><td class="memItemLeft" align="right" valign="top"><a id="aae8c3c1b5cb36912bca6b14089e108f3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Kp</b></td></tr>
<tr class="separator:aae8c3c1b5cb36912bca6b14089e108f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b721b7bdb9fbbdf0900f5a30b2d435d"><td class="memItemLeft" align="right" valign="top"><a id="a3b721b7bdb9fbbdf0900f5a30b2d435d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Ki</b></td></tr>
<tr class="separator:a3b721b7bdb9fbbdf0900f5a30b2d435d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae05a5dd808235ae0c12a3dded340c754"><td class="memItemLeft" align="right" valign="top"><a id="ae05a5dd808235ae0c12a3dded340c754"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>reference</b></td></tr>
<tr class="separator:ae05a5dd808235ae0c12a3dded340c754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012041bf1a3b4da8f0f6a486e9ee4447"><td class="memItemLeft" align="right" valign="top"><a id="a012041bf1a3b4da8f0f6a486e9ee4447"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sathigh</b></td></tr>
<tr class="separator:a012041bf1a3b4da8f0f6a486e9ee4447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a524a8c06f48e29cc02ba92929a2ef9"><td class="memItemLeft" align="right" valign="top"><a id="a7a524a8c06f48e29cc02ba92929a2ef9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>satlow</b></td></tr>
<tr class="separator:a7a524a8c06f48e29cc02ba92929a2ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07163bb7e5e04b4732404891cda92e09"><td class="memItemLeft" align="right" valign="top"><a id="a07163bb7e5e04b4732404891cda92e09"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>actuation</b></td></tr>
<tr class="separator:a07163bb7e5e04b4732404891cda92e09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef95e7ca63a2141f54ec785141d1432"><td class="memItemLeft" align="right" valign="top"><a id="a5ef95e7ca63a2141f54ec785141d1432"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>error</b></td></tr>
<tr class="separator:a5ef95e7ca63a2141f54ec785141d1432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72a9a056e4ab853f0e6524074a2e390"><td class="memItemLeft" align="right" valign="top"><a id="ae72a9a056e4ab853f0e6524074a2e390"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>error_sum</b></td></tr>
<tr class="separator:ae72a9a056e4ab853f0e6524074a2e390"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>! </p>
<p>A motor class for one channel of the DRV8847.</p>
<p>Objects of this class can be used to apply PWM to a given DC motor. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac038f2149f9353779af4499490b2d9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac038f2149f9353779af4499490b2d9fc">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def closedloop.ClosedLoop.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ki</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sathigh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>satlow</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>! </p>
<p>Initializes and returns an object associated with a DC Motor.</p>
<p>Objects of this class should not be instantiated directly. Instead create a DRV8847 object and use that to create Motor objects using the method DRV8847.motor(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PWM_tim</td><td>Placeholder for the timer of the motor </td></tr>
    <tr><td class="paramname">IN1_pin</td><td>Placeholder for the first pin to be passed in </td></tr>
    <tr><td class="paramname">IN2_pin</td><td>Placeholder for the second pin to be passed in </td></tr>
    <tr><td class="paramname">CH_X</td><td>Placeholder for the first channel of the timer passed in </td></tr>
    <tr><td class="paramname">CH_Y</td><td>Placeholder for the second channel of the timer passed in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aabfd126eb373a40747f7fd312ed0056c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabfd126eb373a40747f7fd312ed0056c">&#9670;&nbsp;</a></span>get_Kp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def closedloop.ClosedLoop.get_Kp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>! </p>
<p>Set the PWM duty cycle for the motor channel.</p>
<p>This method sets the duty cycle to be sent to the motor to the given level. Positive values cause effort in one direction, negative values in the opposite direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duty</td><td>A signed number holding the duty 27 cycle of the PWM signal sent to the motor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e8661da077f6829bb7e784a3a52eb71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8661da077f6829bb7e784a3a52eb71">&#9670;&nbsp;</a></span>get_Reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def closedloop.ClosedLoop.get_Reference </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>! </p>
<p>Set the PWM duty cycle for the motor channel.</p>
<p>This method sets the duty cycle to be sent to the motor to the given level. Positive values cause effort in one direction, negative values in the opposite direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duty</td><td>A signed number holding the duty 27 cycle of the PWM signal sent to the motor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a976834505394e94f7d6abaf7c19fad46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a976834505394e94f7d6abaf7c19fad46">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def closedloop.ClosedLoop.run </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>measured</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>deltaTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>! </p>
<p>Constantly updates the counter that tracks position.</p>
<p>The position is tracked with a 16-bit counter. To prevent the counter from overflowing, a change, or delta between previous counts is computed. If the magnitude of the delta is larger than half of the maximum count (indicating that the counter reset), the delta is corrected such that the reset isn't seen. Adding up all the deltas gives the current position. </p>

</div>
</div>
<a id="a9977f9a73888261059c38e25671d0cbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9977f9a73888261059c38e25671d0cbc">&#9670;&nbsp;</a></span>set_Gain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def closedloop.ClosedLoop.set_Gain </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Ki</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>! </p>
<p>Set the PWM duty cycle for the motor channel.</p>
<p>This method sets the duty cycle to be sent to the motor to the given level. Positive values cause effort in one direction, negative values in the opposite direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duty</td><td>A signed number holding the duty 27 cycle of the PWM signal sent to the motor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae280c2736be4764a84235da504431ca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae280c2736be4764a84235da504431ca3">&#9670;&nbsp;</a></span>set_Reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def closedloop.ClosedLoop.set_Reference </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reference</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>! </p>
<p>Set the PWM duty cycle for the motor channel.</p>
<p>This method sets the duty cycle to be sent to the motor to the given level. Positive values cause effort in one direction, negative values in the opposite direction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duty</td><td>A signed number holding the duty 27 cycle of the PWM signal sent to the motor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="closedloop_8py.html">closedloop.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>closedloop</b></li><li class="navelem"><a class="el" href="classclosedloop_1_1ClosedLoop.html">ClosedLoop</a></li>
    <li class="footer">Generated on Wed Feb 23 2022 13:05:11 for Mechatronics Portfolio by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0 </li>
  </ul>
</div>
</body>
</html>
